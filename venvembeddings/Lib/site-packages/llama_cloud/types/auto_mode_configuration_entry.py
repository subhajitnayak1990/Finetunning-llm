# This file was auto-generated by Fern from our API Definition.

import datetime as dt
import typing

from ..core.datetime_utils import serialize_datetime
from .auto_mode_configuration_entry_full_page_image_in_page_threshold import (
    AutoModeConfigurationEntryFullPageImageInPageThreshold,
)
from .auto_mode_configuration_entry_layout_element_in_page_confidence_threshold import (
    AutoModeConfigurationEntryLayoutElementInPageConfidenceThreshold,
)
from .auto_mode_configuration_entry_page_contains_at_least_n_charts import (
    AutoModeConfigurationEntryPageContainsAtLeastNCharts,
)
from .auto_mode_configuration_entry_page_contains_at_least_n_images import (
    AutoModeConfigurationEntryPageContainsAtLeastNImages,
)
from .auto_mode_configuration_entry_page_contains_at_least_n_layout_elements import (
    AutoModeConfigurationEntryPageContainsAtLeastNLayoutElements,
)
from .auto_mode_configuration_entry_page_contains_at_least_n_lines import (
    AutoModeConfigurationEntryPageContainsAtLeastNLines,
)
from .auto_mode_configuration_entry_page_contains_at_least_n_links import (
    AutoModeConfigurationEntryPageContainsAtLeastNLinks,
)
from .auto_mode_configuration_entry_page_contains_at_least_n_numbers import (
    AutoModeConfigurationEntryPageContainsAtLeastNNumbers,
)
from .auto_mode_configuration_entry_page_contains_at_least_n_percent_numbers import (
    AutoModeConfigurationEntryPageContainsAtLeastNPercentNumbers,
)
from .auto_mode_configuration_entry_page_contains_at_least_n_tables import (
    AutoModeConfigurationEntryPageContainsAtLeastNTables,
)
from .auto_mode_configuration_entry_page_contains_at_least_n_words import (
    AutoModeConfigurationEntryPageContainsAtLeastNWords,
)
from .auto_mode_configuration_entry_page_contains_at_most_n_charts import (
    AutoModeConfigurationEntryPageContainsAtMostNCharts,
)
from .auto_mode_configuration_entry_page_contains_at_most_n_images import (
    AutoModeConfigurationEntryPageContainsAtMostNImages,
)
from .auto_mode_configuration_entry_page_contains_at_most_n_layout_elements import (
    AutoModeConfigurationEntryPageContainsAtMostNLayoutElements,
)
from .auto_mode_configuration_entry_page_contains_at_most_n_lines import (
    AutoModeConfigurationEntryPageContainsAtMostNLines,
)
from .auto_mode_configuration_entry_page_contains_at_most_n_links import (
    AutoModeConfigurationEntryPageContainsAtMostNLinks,
)
from .auto_mode_configuration_entry_page_contains_at_most_n_numbers import (
    AutoModeConfigurationEntryPageContainsAtMostNNumbers,
)
from .auto_mode_configuration_entry_page_contains_at_most_n_percent_numbers import (
    AutoModeConfigurationEntryPageContainsAtMostNPercentNumbers,
)
from .auto_mode_configuration_entry_page_contains_at_most_n_tables import (
    AutoModeConfigurationEntryPageContainsAtMostNTables,
)
from .auto_mode_configuration_entry_page_contains_at_most_n_words import (
    AutoModeConfigurationEntryPageContainsAtMostNWords,
)
from .auto_mode_configuration_entry_page_longer_than_n_chars import AutoModeConfigurationEntryPageLongerThanNChars
from .auto_mode_configuration_entry_page_shorter_than_n_chars import AutoModeConfigurationEntryPageShorterThanNChars
from .auto_mode_parsing_conf import AutoModeParsingConf

try:
    import pydantic
    if pydantic.__version__.startswith("1."):
        raise ImportError
    import pydantic.v1 as pydantic  # type: ignore
except ImportError:
    import pydantic  # type: ignore


class AutoModeConfigurationEntry(pydantic.BaseModel):
    """
    A single entry in the auto mode configuration array.
    """

    filename_match_glob: typing.Optional[str]
    filename_match_glob_list: typing.Optional[typing.List[str]]
    filename_regexp: typing.Optional[str]
    filename_regexp_mode: typing.Optional[str]
    full_page_image_in_page: typing.Optional[bool]
    full_page_image_in_page_threshold: typing.Optional[
        AutoModeConfigurationEntryFullPageImageInPageThreshold
    ] = pydantic.Field(description="Threshold for full page image detection (0.0-1.0, default 0.8)")
    image_in_page: typing.Optional[bool]
    layout_element_in_page: typing.Optional[str]
    layout_element_in_page_confidence_threshold: typing.Optional[
        AutoModeConfigurationEntryLayoutElementInPageConfidenceThreshold
    ] = pydantic.Field(description="Confidence threshold for layout element detection")
    page_contains_at_least_n_charts: typing.Optional[
        AutoModeConfigurationEntryPageContainsAtLeastNCharts
    ] = pydantic.Field(description="Trigger if page has more than N charts")
    page_contains_at_least_n_images: typing.Optional[
        AutoModeConfigurationEntryPageContainsAtLeastNImages
    ] = pydantic.Field(description="Trigger if page has more than N images")
    page_contains_at_least_n_layout_elements: typing.Optional[
        AutoModeConfigurationEntryPageContainsAtLeastNLayoutElements
    ] = pydantic.Field(description="Trigger if page has more than N layout elements")
    page_contains_at_least_n_lines: typing.Optional[
        AutoModeConfigurationEntryPageContainsAtLeastNLines
    ] = pydantic.Field(description="Trigger if page has more than N lines")
    page_contains_at_least_n_links: typing.Optional[
        AutoModeConfigurationEntryPageContainsAtLeastNLinks
    ] = pydantic.Field(description="Trigger if page has more than N links")
    page_contains_at_least_n_numbers: typing.Optional[
        AutoModeConfigurationEntryPageContainsAtLeastNNumbers
    ] = pydantic.Field(description="Trigger if page has more than N numeric words")
    page_contains_at_least_n_percent_numbers: typing.Optional[
        AutoModeConfigurationEntryPageContainsAtLeastNPercentNumbers
    ] = pydantic.Field(description="Trigger if page has more than N% numeric words")
    page_contains_at_least_n_tables: typing.Optional[
        AutoModeConfigurationEntryPageContainsAtLeastNTables
    ] = pydantic.Field(description="Trigger if page has more than N tables")
    page_contains_at_least_n_words: typing.Optional[
        AutoModeConfigurationEntryPageContainsAtLeastNWords
    ] = pydantic.Field(description="Trigger if page has more than N words")
    page_contains_at_most_n_charts: typing.Optional[
        AutoModeConfigurationEntryPageContainsAtMostNCharts
    ] = pydantic.Field(description="Trigger if page has fewer than N charts")
    page_contains_at_most_n_images: typing.Optional[
        AutoModeConfigurationEntryPageContainsAtMostNImages
    ] = pydantic.Field(description="Trigger if page has fewer than N images")
    page_contains_at_most_n_layout_elements: typing.Optional[
        AutoModeConfigurationEntryPageContainsAtMostNLayoutElements
    ] = pydantic.Field(description="Trigger if page has fewer than N layout elements")
    page_contains_at_most_n_lines: typing.Optional[AutoModeConfigurationEntryPageContainsAtMostNLines] = pydantic.Field(
        description="Trigger if page has fewer than N lines"
    )
    page_contains_at_most_n_links: typing.Optional[AutoModeConfigurationEntryPageContainsAtMostNLinks] = pydantic.Field(
        description="Trigger if page has fewer than N links"
    )
    page_contains_at_most_n_numbers: typing.Optional[
        AutoModeConfigurationEntryPageContainsAtMostNNumbers
    ] = pydantic.Field(description="Trigger if page has fewer than N numeric words")
    page_contains_at_most_n_percent_numbers: typing.Optional[
        AutoModeConfigurationEntryPageContainsAtMostNPercentNumbers
    ] = pydantic.Field(description="Trigger if page has fewer than N% numeric words")
    page_contains_at_most_n_tables: typing.Optional[
        AutoModeConfigurationEntryPageContainsAtMostNTables
    ] = pydantic.Field(description="Trigger if page has fewer than N tables")
    page_contains_at_most_n_words: typing.Optional[AutoModeConfigurationEntryPageContainsAtMostNWords] = pydantic.Field(
        description="Trigger if page has fewer than N words"
    )
    page_longer_than_n_chars: typing.Optional[AutoModeConfigurationEntryPageLongerThanNChars] = pydantic.Field(
        description="Trigger if page has more than N characters"
    )
    page_md_error: typing.Optional[bool]
    page_shorter_than_n_chars: typing.Optional[AutoModeConfigurationEntryPageShorterThanNChars] = pydantic.Field(
        description="Trigger if page has fewer than N characters"
    )
    parsing_conf: AutoModeParsingConf
    regexp_in_page: typing.Optional[str]
    regexp_in_page_mode: typing.Optional[str]
    table_in_page: typing.Optional[bool]
    text_in_page: typing.Optional[str]
    trigger_mode: typing.Optional[str]

    def json(self, **kwargs: typing.Any) -> str:
        kwargs_with_defaults: typing.Any = {"by_alias": True, "exclude_unset": True, **kwargs}
        return super().json(**kwargs_with_defaults)

    def dict(self, **kwargs: typing.Any) -> typing.Dict[str, typing.Any]:
        kwargs_with_defaults: typing.Any = {"by_alias": True, "exclude_unset": True, **kwargs}
        return super().dict(**kwargs_with_defaults)

    class Config:
        frozen = True
        smart_union = True
        json_encoders = {dt.datetime: serialize_datetime}
