# This file was auto-generated by Fern from our API Definition.

import datetime as dt
import typing

from ..core.datetime_utils import serialize_datetime
from .images_content_metadata import ImagesContentMetadata
from .markdown_result import MarkdownResult
from .metadata_result import MetadataResult
from .parse_job_response import ParseJobResponse
from .result_type_metadata import ResultTypeMetadata
from .structured_result import StructuredResult
from .text_result import TextResult

try:
    import pydantic
    if pydantic.__version__.startswith("1."):
        raise ImportError
    import pydantic.v1 as pydantic  # type: ignore
except ImportError:
    import pydantic  # type: ignore


class ParseResultResponse(pydantic.BaseModel):
    """
    Parse result response with job status and optional content or metadata.

    The job field is always included. Other fields are included based on expand parameters.
    """

    images_content_metadata: typing.Optional[ImagesContentMetadata]
    items: typing.Optional[StructuredResult]
    job: ParseJobResponse = pydantic.Field(description="Parse job status and metadata")
    markdown: typing.Optional[MarkdownResult]
    metadata: typing.Optional[MetadataResult]
    result_content_metadata: typing.Optional[typing.Dict[str, typing.Optional[ResultTypeMetadata]]]
    text: typing.Optional[TextResult]

    def json(self, **kwargs: typing.Any) -> str:
        kwargs_with_defaults: typing.Any = {"by_alias": True, "exclude_unset": True, **kwargs}
        return super().json(**kwargs_with_defaults)

    def dict(self, **kwargs: typing.Any) -> typing.Dict[str, typing.Any]:
        kwargs_with_defaults: typing.Any = {"by_alias": True, "exclude_unset": True, **kwargs}
        return super().dict(**kwargs_with_defaults)

    class Config:
        frozen = True
        smart_union = True
        json_encoders = {dt.datetime: serialize_datetime}
